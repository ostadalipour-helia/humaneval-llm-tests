{
  "task_id": "HumanEval_88",
  "entry_point": "sort_array",
  "preconditions": [
    "The input 'array' must be a list.",
    "All elements in 'array' must be integers.",
    "All elements in 'array' must be non-negative (i.e., >= 0)."
  ],
  "postconditions": [
    "The function must return a new list; the original 'array' must not be modified.",
    "The returned list must have the same length as the input 'array'.",
    "The returned list must contain the same elements as the input 'array', just potentially reordered.",
    "If the length of 'array' is less than 2, the returned list is a shallow copy of 'array' (no sorting applied).",
    "If the length of 'array' is 2 or more:",
    "  Let 'first_val' be array[0] and 'last_val' be array[len(array)-1].",
    "  If (first_val + last_val) is an odd number, the returned list must be sorted in ascending order.",
    "  If (first_val + last_val) is an even number, the returned list must be sorted in descending order."
  ],
  "invariants": [
    "The returned list is always a permutation of the input list.",
    "All elements in the returned list are non-negative integers.",
    "The length of the returned list is equal to the length of the input list."
  ],
  "normal_cases": [
    {
      "input": "[2, 4, 3, 0, 1, 5]",
      "output": "[0, 1, 2, 3, 4, 5]",
      "reason": "Sum of first (2) and last (5) elements is 7 (odd), so sort ascending."
    },
    {
      "input": "[2, 4, 3, 0, 1, 5, 6]",
      "output": "[6, 5, 4, 3, 2, 1, 0]",
      "reason": "Sum of first (2) and last (6) elements is 8 (even), so sort descending."
    },
    {
      "input": "[10, 1, 7, 3, 5]",
      "output": "[1, 3, 5, 7, 10]",
      "reason": "Sum of first (10) and last (5) elements is 15 (odd), so sort ascending."
    },
    {
      "input": "[10, 1, 7, 3, 6]",
      "output": "[10, 7, 6, 3, 1]",
      "reason": "Sum of first (10) and last (6) elements is 16 (even), so sort descending."
    }
  ],
  "edge_cases": [
    {
      "input": "[]",
      "output": "[]",
      "reason": "Empty array, returns a copy of itself."
    },
    {
      "input": "[5]",
      "output": "[5]",
      "reason": "Single element array, returns a copy of itself."
    },
    {
      "input": "[1, 2]",
      "output": "[1, 2]",
      "reason": "Sum of first (1) and last (2) elements is 3 (odd), so sort ascending. Already sorted."
    },
    {
      "input": "[2, 1]",
      "output": "[1, 2]",
      "reason": "Sum of first (2) and last (1) elements is 3 (odd), so sort ascending."
    },
    {
      "input": "[2, 4]",
      "output": "[4, 2]",
      "reason": "Sum of first (2) and last (4) elements is 6 (even), so sort descending."
    },
    {
      "input": "[3, 3, 3]",
      "output": "[3, 3, 3]",
      "reason": "All elements are identical. Sum of first (3) and last (3) is 6 (even), so sort descending. Result is unchanged."
    },
    {
      "input": "[0, 10, 5]",
      "output": "[0, 5, 10]",
      "reason": "Array contains zero. Sum of first (0) and last (5) is 5 (odd), so sort ascending."
    },
    {
      "input": "[0, 10, 6]",
      "output": "[10, 6, 0]",
      "reason": "Array contains zero. Sum of first (0) and last (6) is 6 (even), so sort descending."
    }
  ],
  "error_conditions": [
    {
      "input": "null",
      "expected_error": "TypeError",
      "reason": "Input 'array' is not a list."
    },
    {
      "input": "123",
      "expected_error": "TypeError",
      "reason": "Input 'array' is not a list."
    },
    {
      "input": "[1, 2.5, 3]",
      "expected_error": "TypeError or ValueError",
      "reason": "Array contains non-integer elements."
    },
    {
      "input": "[1, 'a', 3]",
      "expected_error": "TypeError or ValueError",
      "reason": "Array contains non-integer elements."
    },
    {
      "input": "[1, -2, 3]",
      "expected_error": "ValueError",
      "reason": "Array contains negative integers."
    }
  ]
}