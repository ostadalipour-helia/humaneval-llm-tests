================================================================================
COVERAGE ENHANCEMENT LOG
================================================================================
Problem ID: HumanEval_65
Timestamp: 2025-10-09T23:47:22.209304
Status: success
================================================================================

================================================================================
PROMPT
================================================================================
You are a Python developer writing unit tests to improve code coverage.

The following code has some lines that are not covered by existing tests:

def circular_shift(x, shift):
    """Circular shift the digits of the integer x, shift the digits right by shift
    and return the result as a string.
    If shift > number of digits, return digits reversed.
    >>> circular_shift(12, 1)
    "21"
    >>> circular_shift(12, 2)
    "12"
    """
    is_negative = False
    if x < 0:
        is_negative = True
        x = abs(x)

    s_x = str(x)
    n = len(s_x)

    # For x=0, s_x="0", n=1. This logic handles it correctly.
    # If n is 0, it means x was effectively an empty string, which won't happen for an integer.
    # So, n will always be >= 1.

    result_digits = ""
    if shift > n:
        # Special case: If shift > number of digits, return digits reversed.
        result_digits = s_x[::-1]
    else:
        # Perform circular right shift
        effective_shift = shift % n
        # Slice the string: take the last 'effective_shift' characters and prepend them
        # to the remaining characters.
        result_digits = s_x[-effective_shift:] + s_x[:-effective_shift]

    # Reapply the negative sign if the original number was negative
    # and the result is not "0" (to avoid "-0").
    if is_negative and result_digits != "0":
        return "-" + result_digits
    else:
        return result_digits

**Uncovered line numbers:** [12, 13, 36]

**Actual uncovered lines:**
Line 12:         is_negative = True
Line 13:         x = abs(x)
Line 36:         return "-" + result_digits

Generate ONLY test method definitions (def test_xxx) that will execute these uncovered lines.
- Generate 1-3 test methods
- Each method should be a standalone unittest method
- Use proper 4-space indentation for method body
- DO NOT include: class definitions, import statements, or if __name__ blocks
- Return ONLY the method definitions

Example format:
    def test_edge_case(self):
        result = circular_shift(test_input)
        self.assertEqual(result, expected)

Now generate the test methods:


================================================================================
RESPONSE
================================================================================
def test_negative_number_basic_shift(self):
        # Covers lines 12, 13, 36 by providing a negative number
        # and a shift that is less than or equal to the number of digits.
        # This ensures is_negative is set, x is made absolute, and the negative sign
        # is reapplied to the shifted result.
        result = circular_shift(-123, 1)
        self.assertEqual(result, "-312")

    def test_negative_number_shift_greater_than_digits(self):
        # Covers lines 12, 13, 36 by providing a negative number
        # and a shift that is greater than the number of digits.
        # This tests the reversed digits path while still hitting the negative number logic.
        result = circular_shift(-45, 3)
        self.assertEqual(result, "-54")

